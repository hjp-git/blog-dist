(window.webpackJsonp=window.webpackJsonp||[]).push([[250],{664:function(s,t,e){"use strict";e.r(t);var v=e(1),a=Object(v.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"hash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[s._v("#")]),s._v(" hash")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hash'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 默认")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("对于一个 "),t("code",[s._v("url")]),s._v(" 来说，什么是 "),t("code",[s._v("hash")]),s._v(" 值？—— "),t("strong",[s._v("#")]),s._v(" 及其后面的内容就是 "),t("code",[s._v("hash")]),s._v(" 值")]),s._v(" "),t("li",[t("code",[s._v("hash")]),s._v(" 模式是 "),t("code",[s._v("vue-router")]),s._v(" 的默认模式。")]),s._v(" "),t("li",[t("code",[s._v("hash")]),s._v(" 指的是 "),t("code",[s._v("url")]),s._v(" 锚点，当锚点发生变化的时候，浏览器只会修改访问历史记录，不会访问服务器重新获取页面。\n"),t("ul",[t("li",[s._v("因此可以监听描点值的变化，根据描点值渲染指定dom。")])])]),s._v(" "),t("li",[s._v("访问服务器\n"),t("ul",[t("li",[t("strong",[s._v("#")]),s._v(" 前面当做资源路径访问")]),s._v(" "),t("li",[t("code",[s._v("hash")]),s._v(" 值 不会作为资源路径访问服务器，只是前端在操作，刷新时访问的还是原来的资源路径")])])])]),s._v(" "),t("h2",{attrs:{id:"history"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#history"}},[s._v("#")]),s._v(" history")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'history'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("地址栏 "),t("code",[s._v("url")]),s._v(" 中没有 "),t("strong",[s._v("#")]),s._v(" 号， 利用了 HTML5 History Interface 中新增的 "),t("code",[s._v("pushState()")]),s._v(" 和 "),t("code",[s._v("replaceState()")]),s._v(" 方法。")]),s._v(" "),t("li",[s._v("当调用这两个方法的时候，"),t("code",[s._v("url")]),s._v(" 会发生变化，浏览器访问历史也会发生变化，但是浏览器不会向后台发送请求。")]),s._v(" "),t("li",[s._v("访问服务器全部当作资源路径访问")]),s._v(" "),t("li",[s._v("当跳转到其他页面并且刷新页面时，打包后的静态资源里没有路径中的文件，没有访问到 "),t("strong",[s._v("index.html")]),s._v(" ，没有经过 "),t("code",[s._v("vue-route")]),s._v(" 处理会导致 "),t("strong",[s._v("404")]),s._v(" "),t("ul",[t("li",[s._v("这个问题需要后端解决")]),s._v(" "),t("li",[s._v("比如 node服务中 用 "),t("code",[s._v("connect-history-api-fallback")]),s._v(" 中间件解决这个问题")]),s._v(" "),t("li",[s._v("或者 配置 "),t("code",[s._v("nginx")]),s._v(" 代理解决")])])])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("总体来讲就是 利用 "),t("code",[s._v("hash")]),s._v(" 或者 "),t("code",[s._v("history")]),s._v(" 模式修改部分 "),t("code",[s._v("url")]),s._v("，不会向后端发送请求，并且能监听到 "),t("code",[s._v("url")]),s._v(" 变化，根据不同 "),t("code",[s._v("url")]),s._v(" 映射到不同页面")])])])}),[],!1,null,null,null);t.default=a.exports}}]);